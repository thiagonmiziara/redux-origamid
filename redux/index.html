<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Redux</title>
    <script src="./redux.min.js"></script>
</head>

<body>
    <div id="caixa" style="background-color: black; height: 50px; color: white;"></div>

    <h1>
        TOTAL:
        <spaan id="total"></spaan>
    </h1>

    <div>
        <button id="button">Incrementar</button>
    </div>

    <div>
        <button id="abrir">Abrir</button>
        <button id="fechar">Fechar</button>
    </div>

    <script src="./immer.umd.production.min.js"></script>


    <script>
        const initialState = {
            nome: "Thiago",
            idade: 33
        }

        const reducer = immer.produce((state, action) => {
            switch (action.type) {
                case 'MUDAR_NOME':
                    state.nome = action.payload
                    break;
                case 'MUDAR_IDADE':
                    state.idade = action.payload
                    break;
            }
        }, initialState);

        const store = Redux.createStore(
            reducer,
            window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),
        );

        store.dispatch({
            type: 'MUDAR_NOME',
            payload: "Flamengo"
        });

        store.dispatch({
            type: 'MUDAR_IDADE',
            payload: 2021
        })
    </script>
</body>

</html>